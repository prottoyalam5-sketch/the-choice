<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Anchor</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        :root {
            --gold: #FFD700;
            --dark-gold: #b8860b;
            --bg: #0a0a0a;
            --text: #ffffff;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Georgia', serif;
            overflow-x: hidden;
            cursor: none;
        }

        #cursor {
            width: 20px;
            height: 20px;
            background: var(--gold);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            box-shadow: 0 0 20px var(--gold);
        }

        /* Narrative Sections */
        .section {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            text-align: center;
            position: relative;
            opacity: 0;
        }

        .shatter-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: all;
        }

        .floating-element {
            position: absolute;
            pointer-events: none;
            filter: drop-shadow(0 0 10px var(--gold));
            font-size: 2rem;
        }

        h1, h2 {
            font-weight: 300;
            letter-spacing: 5px;
            text-transform: uppercase;
        }

        .highlight {
            color: var(--gold);
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        /* The Bridge Interaction */
        .bridge-container {
            width: 100%;
            max-width: 600px;
            height: 200px;
            border-bottom: 2px solid var(--gold);
            position: relative;
            margin-top: 50px;
        }

        .marker {
            position: absolute;
            bottom: -10px;
            transition: all 0.5s ease;
        }

        #hold-btn {
            padding: 20px 40px;
            border: 2px solid var(--gold);
            background: transparent;
            color: var(--gold);
            font-size: 1.2rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 30px;
        }

        #hold-btn:active {
            background: var(--gold);
            color: black;
            box-shadow: 0 0 50px var(--gold);
        }

        .cat-icon { font-size: 3rem; }
        .sunflower { color: #FFD700; font-size: 4rem; }

        #final-message {
            display: none;
            background: radial-gradient(circle, #1a1a1a 0%, #000 100%);
        }

        .bird {
            position: absolute;
            animation: fly 10s linear infinite;
        }

        @keyframes fly {
            from { left: -10%; top: 20%; }
            to { left: 110%; top: 10%; }
        }
    </style>
</head>
<body>

    <div id="cursor"></div>

    <div class="shatter-overlay" id="overlay">
        <div style="text-align: center;">
            <p id="typed-intro" style="font-size: 1.5rem; color: #666;"></p>
            <button id="start-trigger" style="margin-top:20px; background:none; border:1px solid #444; color:#444; padding:10px 20px;">[ Heal the Darkness ]</button>
        </div>
    </div>

    <main id="main-content">
        <section class="section" id="s1">
            <div class="content">
                <h2>When the world felt <span class="highlight">heavy</span></h2>
                <p>University stress, home, the betrayals...</p>
                <p>Everyone saw a "burden."</p>
            </div>
        </section>

        <section class="section" id="s2">
            <div class="content">
                <h2>But you said...</h2>
                <h1 class="highlight">"You don't have to be strong with me."</h1>
                <p>600km felt like 0 when you held my hand emotionally.</p>
            </div>
            <div class="floating-element sunflower">üåª</div>
            <div class="floating-element cat-icon" style="top: 20%; left: 10%;">üê±</div>
        </section>

        <section class="section" id="s3">
            <div class="content">
                <h2>Bridge the distance</h2>
                <div class="bridge-container">
                    <div class="marker" id="me" style="left: 0;">üìç Me</div>
                    <div class="marker" id="her" style="right: 0;">üìç You</div>
                </div>
                <p id="dist-text">Distance: 600km</p>
                <button id="hold-btn">HOLD TO CLOSE THE GAP</button>
            </div>
        </section>

        <section class="section" id="final">
            <div class="content">
                <h1 style="font-size: 4rem;">Happy New Year</h1>
                <p>You are my home, my peace, and my anchor.</p>
                <h2 class="highlight">Will you stay by my side in 2025 and beyond?</h2>
                <div class="sunflower">üåª</div>
                <p style="margin-top: 20px;">I love you.</p>
            </div>
        </section>
    </main>

    <script>
        // Custom Cursor
        const cursor = document.querySelector('#cursor');
        document.addEventListener('mousemove', e => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });

        // Intro Logic
        const startBtn = document.querySelector('#start-trigger');
        startBtn.addEventListener('click', () => {
            gsap.to('#overlay', { duration: 2, opacity: 0, pointerEvents: 'none' });
            startExperience();
        });

        function startExperience() {
            const tl = gsap.timeline();
            tl.to("#s1", { opacity: 1, duration: 2 })
              .to("#s1", { opacity: 0, duration: 1, delay: 3 })
              .to("#s2", { opacity: 1, duration: 2 })
              .to("#s2", { opacity: 0, duration: 1, delay: 3 })
              .to("#s3", { opacity: 1, duration: 2 });
        }

        // The Hold Interaction
        const holdBtn = document.querySelector('#hold-btn');
        const me = document.querySelector('#me');
        const distText = document.querySelector('#dist-text');
        let interval;
        let distance = 600;

        holdBtn.addEventListener('mousedown', () => {
            interval = setInterval(() => {
                if(distance > 0) {
                    distance -= 5;
                    let pos = ((600 - distance) / 600) * 85;
                    me.style.left = pos + '%';
                    distText.innerText = `Distance: ${distance}km`;
                    distText.style.color = '#FFD700';
                } else {
                    clearInterval(interval);
                    showFinal();
                }
            }, 20);
        });

        holdBtn.addEventListener('mouseup', () => clearInterval(interval));

        function showFinal() {
            gsap.to("#s3", { opacity: 0, duration: 1 });
            gsap.to("#final", { opacity: 1, duration: 3, delay: 1 });
            createSunflowers();
        }

        function createSunflowers() {
            for(let i=0; i<20; i++) {
                let div = document.createElement('div');
                div.innerHTML = i % 2 === 0 ? "üåª" : "üê±";
                div.className = "floating-element";
                div.style.left = Math.random() * 100 + "vw";
                div.style.top = Math.random() * 100 + "vh";
                document.body.appendChild(div);
                gsap.to(div, {
                    y: -100,
                    opacity: 0,
                    duration: 2 + Math.random() * 3,
                    delay: Math.random() * 2,
                    repeat: -1
                });
            }
        }

        // Typing effect for intro
        const text = "In the middle of the betrayal, you were the only truth I had left...";
        let i = 0;
        function type() {
            if (i < text.length) {
                document.getElementById("typed-intro").innerHTML += text.charAt(i);
                i++;
                setTimeout(type, 100);
            }
        }
        type();

    </script>
</body>
</html>
